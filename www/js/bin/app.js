// Generated by CoffeeScript 1.9.0
(function() {
  require.config({
    paths: {
      'jquery': '../lib/jquery',
      'underscore': '../lib/underscore',
      'backbone': '../lib/backbone-min',
      'text': '../lib/text',
      'fastclick': '../lib/fastclick',
      'pageslider': '../lib/pageslider',
      'ratchet': '../lib/ratchet'
    },
    waitSeconds: 15,
    shim: {
      'fastclick': {
        exports: 'FastClick'
      },
      'pageslider': {
        exports: 'PageSlider'
      },
      'underscore': {
        exports: '_'
      },
      'backbone': {
        deps: ["underscore", "jquery"],
        exports: 'Backbone'
      }
    }
  });

  require(["jquery", "underscore", "backbone", "routers/router", "fastclick", "ratchet"], function($, _, Backbone, AppRouter, fc, ratchet) {
    return $(function() {
      var app;
      $(document).on("click", "a:not([data-skip])", function(evt) {
        var href, root;
        href = {
          prop: $(this).prop("href"),
          attr: $(this).attr("href")
        };
        root = location.protocol + "//" + location.host + Backbone.history.options.root;
        if (href.prop && href.prop.slice(0, root.length) === root) {
          evt.preventDefault();
          return Backbone.history.loadUrl(href.attr);
        }
      });
      app = new AppRouter();
      return Backbone.history.start();
    });
  });

  document.addEventListener('deviceready', (function() {
    StatusBar.overlaysWebView(false);
    StatusBar.backgroundColorByHexString('#ffffff');
    StatusBar.styleDefault();
    FastClick.attach(document.body);
    if (navigator.notification) {
      window.alert = function(message, title, btnText) {
        if (title == null) {
          title = 'Picture Trivia';
        }
        if (btnText == null) {
          btnText = 'OK';
        }
        navigator.notification.alert(message, null, title, btnText);
      };
    }
  }), false);

}).call(this);
