(function(){window.utils={loadTemplate:function(e,t){var n;n=[],$.each(e,function(e,t){window[t]?n.push($.get("tpl/"+t+".html",function(e){window[t].prototype.template=_.template(e)})):alert(t+" not found")}),$.when.apply(null,n).done(t)},uploadFile:function(e,t){var n,r;r=this,n=new FormData,n.append("file",e),$.ajax({url:"api/upload.php",type:"POST",data:n,processData:!1,cache:!1,contentType:!1}).done(function(){console.log(e.name+" uploaded successfully"),t()}).fail(function(){r.showAlert("Error!","An error occurred while uploading "+e.name,"alert-error")})},displayValidationErrors:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.addValidationError(t,e[t]);this.showAlert("Warning!","Fix validation errors and try again","alert-warning")},addValidationError:function(e,t){var n;n=$("#"+e).parent().parent(),n.addClass("error"),$(".help-inline",n).html(t)},removeValidationError:function(e){var t;t=$("#"+e).parent().parent(),t.removeClass("error"),$(".help-inline",t).html("")},showAlert:function(e,t,n){$(".alert").removeClass("alert-error alert-warning alert-success alert-info"),$(".alert").addClass(n),$(".alert").html("<strong>"+e+"</strong> "+t),$(".alert").show()},hideAlert:function(){$(".alert").hide()}}}).call(this);